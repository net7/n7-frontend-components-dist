//---------------------------
// CAROUSEL.ts
//---------------------------
import { Component, Input } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../anchor-wrapper/anchor-wrapper";
export class CarouselComponent {
    constructor() {
        this.loaded = false;
        /**
         * API of the carousel component
         */
        this.api = {
            /**
             * Used to lazy-load video resources.
             * Call api.load.videos on DOMContentReady event
             */
            load: {
                /** Changes all data-src attributes to src and calls <video>.load() */
                videos: () => {
                    const sources = Array.from(
                    // gets all <source.lazy> tags
                    document
                        .getElementById(this.data.containerId)
                        .getElementsByClassName('lazy'));
                    sources.forEach((source) => {
                        const url = source.getAttribute('data-src'); // gets the video url
                        source.classList.remove('lazy'); // removes the lazy class
                        source.setAttribute('src', url); // sets the url to src attribute
                        source.removeAttribute('data-src'); // removes the data-src attribute
                        source.parentElement.load(); // loads the video
                    });
                },
            },
        };
    }
    ngAfterContentChecked() {
        if (!this.data || this.loaded)
            return;
        this.loaded = true;
        setTimeout(() => {
            const { containerId, libOptions } = this.data;
            import('latte-carousel').then((module) => {
                const { Carousel } = module;
                const chart = new Carousel(`#${containerId}`, libOptions);
                if (this.data.setInstance)
                    this.data.setInstance((d) => {
                        // eslint-disable-next-line no-param-reassign, @typescript-eslint/no-unused-vars
                        d = chart;
                    });
                if (this.data.setComponentAPI)
                    this.data.setComponentAPI((d) => {
                        // eslint-disable-next-line no-param-reassign, @typescript-eslint/no-unused-vars
                        d = this.api;
                    });
                this.addButtonEvents(this.data);
            });
        });
    }
    onClick(payload) {
        if (!this.emit)
            return;
        this.emit('click', payload);
    }
    /**
     * Function that adds the event listeners to each button.
     * This is needed because when "new Carousel()" is called the event listeners are lost.
     */
    addButtonEvents({ slides, containerId }) {
        // Build array of button-id's & payloads.
        const buttons = slides
            .map((slide, slideID) => ({
            // id = container id - index of the slide
            id: `${containerId}-${slideID}`,
            payload: ((slide.action || {}).anchor || {}).payload || undefined,
        }))
            .filter((btn) => btn.payload);
        // find each button's anchor-wrapper and attach the event to it.
        buttons.forEach((btn) => {
            document
                .querySelector(`#${btn.id}`)
                .parentElement.addEventListener('click', () => this.onClick(btn.payload));
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.1.2", ngImport: i0, type: CarouselComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.1.2", type: CarouselComponent, selector: "n7-carousel", inputs: { data: "data", emit: "emit" }, ngImport: i0, template: "<button\n  *ngIf=\"data && data.classes === 'demo'\"\n  class=\"n7-btn\"\n  (click)=\"api.load.videos()\"\n>\n  api.load.videos()\n</button>\n\n<div *ngIf=\"data\" class=\"n7-carousel {{ data.classes || '' }}\">\n  <!-- Warning: Do not style div.latte-carousel -->\n  <div id=\"{{data.containerId}}\" class=\"latte-carousel\">\n    <ng-container *ngFor=\"let slide of data.slides; let index = index;\">\n      <ng-container\n        *ngTemplateOutlet=\"carouselSlide; context:{slide: slide, index: index}\"\n      ></ng-container>\n    </ng-container>\n  </div>\n</div>\n\n<!-- ===== SLIDE WRAPPER ===== -->\n<ng-template #carouselSlide let-slide=\"slide\" let-slideID=\"index\">\n  <!-- Warning: Do not style div.latte-item -->\n  <div class=\"latte-item\">\n    <div\n      class=\"n7-carousel__slide {{ slide.classes || ''}}\"\n      [ngClass]=\"{ 'has-image' : slide.background.image, 'has-video': slide.background.video }\"\n      [style.background-color]=\"slide.background.color ? slide.background.color : ''\"\n      [style.background-image]=\"slide.background.image ? 'url('+slide.background.image+')' : ''\"\n    >\n      <div class=\"n7-carousel__slide-content-wrapper\">\n        <div class=\"n7-carousel__slide-content\">\n          <div class=\"n7-carousel__slide-content-left\">\n            <ng-container\n              *ngTemplateOutlet=\"slideForeground; context:{items: slide.items, slideID: slideID}\"\n            >\n            </ng-container>\n          </div>\n          <div class=\"n7-carousel__slide-content-right\" *ngIf=\"slide.action\">\n            <n7-anchor-wrapper\n              [data]=\"slide.action.anchor\"\n              (clicked)=\"onClick($event)\"\n            >\n              <!-- Button ID's are used to dynamically reattach events after loading the carousel -->\n              <button\n                id=\"{{data.containerId}}-{{slideID}}\"\n                class=\"n7-hero__btn n7-btn n7-btn-cta n7-btn-l\"\n              >\n                {{slide.action.text}}\n              </button>\n            </n7-anchor-wrapper>\n            <ng-container\n              *ngTemplateOutlet=\"sideImage; context:{items: slide.items, slideID: slideID}\"\n            >\n            </ng-container>\n          </div>\n        </div>\n      </div>\n      <ng-container *ngIf=\"slide.background\">\n        <ng-container\n          *ngTemplateOutlet=\"slideBackground; context:{$implicit: slide.background}\"\n        >\n        </ng-container>\n      </ng-container>\n    </div>\n  </div>\n</ng-template>\n\n<!-- ===== SLIDE FOREGROUND ===== -->\n<ng-template #slideForeground let-items=\"items\" let-slideID=\"slideID\">\n  <ng-container *ngFor=\"let el of items; let itemID = index\">\n    <!-- title -->\n    <h1 class=\"n7-carousel__slide-title\" *ngIf=\"el.title\">{{el.title}}</h1>\n    <!-- text -->\n    <div\n      class=\"n7-carousel__slide-text\"\n      *ngIf=\"el.text\"\n      [innerHTML]=\"el.text\"\n    ></div>\n    <!-- image -->\n    <ng-container *ngIf=\"el.image as img\">\n      <img\n        class=\"n7-carousel__slide-img\"\n        [src]=\"img.src\"\n        [alt]=\"img.alt ?? ''\"\n        [ngClass]=\"img.classes\"\n      />\n    </ng-container>\n    <!-- metadata -->\n    <div class=\"n7-carousel__slide-metadata-wrapper\" *ngIf=\"el.metadata\">\n      <ng-container *ngFor=\"let m of el.metadata\">\n        <div class=\"n7-carousel__slide-metadata\">\n          <span class=\"n7-carousel__slide-metadata-label\" *ngIf=\"m.key\"\n            >{{m.key}}</span\n          >\n          <span class=\"n7-carousel__slide-metadata-value\" *ngIf=\"m.value\"\n            >{{m.value}}</span\n          >\n        </div>\n      </ng-container>\n    </div>\n  </ng-container>\n</ng-template>\n\n<!-- ===== SIDE IMAGE ===== -->\n<ng-template #sideImage let-items=\"items\" let-slideID=\"slideID\">\n  <ng-container *ngFor=\"let el of items; let itemID = index\">\n    <!-- image -->\n    <ng-container *ngIf=\"el.image as img\">\n      <img\n        class=\"n7-carousel__side-img\"\n        [src]=\"img.src\"\n        [alt]=\"img.alt ?? ''\"\n        [ngClass]=\"img.classes\"\n      />\n    </ng-container>\n  </ng-container>\n</ng-template>\n\n<!-- ===== VIDEO BACKGROUND ===== -->\n<ng-template #slideBackground let-bg>\n  <ng-container *ngIf=\"bg.video as v\">\n    <video\n      #video\n      class=\"n7-carousel__slide-video\"\n      [poster]=\"v.poster\"\n      [height]=\"v.height\"\n      [width]=\"v.width\"\n      loop\n      muted\n      autoplay\n      playsinline\n    >\n      <source #source class=\"lazy\" [attr.data-src]=\"v.url\" type=\"video/mp4\" />\n    </video>\n    <div class=\"n7-carousel__slide-video-overlay\"></div>\n  </ng-container>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: i2.AnchorWrapperComponent, selector: "n7-anchor-wrapper", inputs: ["data", "classes"], outputs: ["clicked"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.1.2", ngImport: i0, type: CarouselComponent, decorators: [{
            type: Component,
            args: [{ selector: 'n7-carousel', template: "<button\n  *ngIf=\"data && data.classes === 'demo'\"\n  class=\"n7-btn\"\n  (click)=\"api.load.videos()\"\n>\n  api.load.videos()\n</button>\n\n<div *ngIf=\"data\" class=\"n7-carousel {{ data.classes || '' }}\">\n  <!-- Warning: Do not style div.latte-carousel -->\n  <div id=\"{{data.containerId}}\" class=\"latte-carousel\">\n    <ng-container *ngFor=\"let slide of data.slides; let index = index;\">\n      <ng-container\n        *ngTemplateOutlet=\"carouselSlide; context:{slide: slide, index: index}\"\n      ></ng-container>\n    </ng-container>\n  </div>\n</div>\n\n<!-- ===== SLIDE WRAPPER ===== -->\n<ng-template #carouselSlide let-slide=\"slide\" let-slideID=\"index\">\n  <!-- Warning: Do not style div.latte-item -->\n  <div class=\"latte-item\">\n    <div\n      class=\"n7-carousel__slide {{ slide.classes || ''}}\"\n      [ngClass]=\"{ 'has-image' : slide.background.image, 'has-video': slide.background.video }\"\n      [style.background-color]=\"slide.background.color ? slide.background.color : ''\"\n      [style.background-image]=\"slide.background.image ? 'url('+slide.background.image+')' : ''\"\n    >\n      <div class=\"n7-carousel__slide-content-wrapper\">\n        <div class=\"n7-carousel__slide-content\">\n          <div class=\"n7-carousel__slide-content-left\">\n            <ng-container\n              *ngTemplateOutlet=\"slideForeground; context:{items: slide.items, slideID: slideID}\"\n            >\n            </ng-container>\n          </div>\n          <div class=\"n7-carousel__slide-content-right\" *ngIf=\"slide.action\">\n            <n7-anchor-wrapper\n              [data]=\"slide.action.anchor\"\n              (clicked)=\"onClick($event)\"\n            >\n              <!-- Button ID's are used to dynamically reattach events after loading the carousel -->\n              <button\n                id=\"{{data.containerId}}-{{slideID}}\"\n                class=\"n7-hero__btn n7-btn n7-btn-cta n7-btn-l\"\n              >\n                {{slide.action.text}}\n              </button>\n            </n7-anchor-wrapper>\n            <ng-container\n              *ngTemplateOutlet=\"sideImage; context:{items: slide.items, slideID: slideID}\"\n            >\n            </ng-container>\n          </div>\n        </div>\n      </div>\n      <ng-container *ngIf=\"slide.background\">\n        <ng-container\n          *ngTemplateOutlet=\"slideBackground; context:{$implicit: slide.background}\"\n        >\n        </ng-container>\n      </ng-container>\n    </div>\n  </div>\n</ng-template>\n\n<!-- ===== SLIDE FOREGROUND ===== -->\n<ng-template #slideForeground let-items=\"items\" let-slideID=\"slideID\">\n  <ng-container *ngFor=\"let el of items; let itemID = index\">\n    <!-- title -->\n    <h1 class=\"n7-carousel__slide-title\" *ngIf=\"el.title\">{{el.title}}</h1>\n    <!-- text -->\n    <div\n      class=\"n7-carousel__slide-text\"\n      *ngIf=\"el.text\"\n      [innerHTML]=\"el.text\"\n    ></div>\n    <!-- image -->\n    <ng-container *ngIf=\"el.image as img\">\n      <img\n        class=\"n7-carousel__slide-img\"\n        [src]=\"img.src\"\n        [alt]=\"img.alt ?? ''\"\n        [ngClass]=\"img.classes\"\n      />\n    </ng-container>\n    <!-- metadata -->\n    <div class=\"n7-carousel__slide-metadata-wrapper\" *ngIf=\"el.metadata\">\n      <ng-container *ngFor=\"let m of el.metadata\">\n        <div class=\"n7-carousel__slide-metadata\">\n          <span class=\"n7-carousel__slide-metadata-label\" *ngIf=\"m.key\"\n            >{{m.key}}</span\n          >\n          <span class=\"n7-carousel__slide-metadata-value\" *ngIf=\"m.value\"\n            >{{m.value}}</span\n          >\n        </div>\n      </ng-container>\n    </div>\n  </ng-container>\n</ng-template>\n\n<!-- ===== SIDE IMAGE ===== -->\n<ng-template #sideImage let-items=\"items\" let-slideID=\"slideID\">\n  <ng-container *ngFor=\"let el of items; let itemID = index\">\n    <!-- image -->\n    <ng-container *ngIf=\"el.image as img\">\n      <img\n        class=\"n7-carousel__side-img\"\n        [src]=\"img.src\"\n        [alt]=\"img.alt ?? ''\"\n        [ngClass]=\"img.classes\"\n      />\n    </ng-container>\n  </ng-container>\n</ng-template>\n\n<!-- ===== VIDEO BACKGROUND ===== -->\n<ng-template #slideBackground let-bg>\n  <ng-container *ngIf=\"bg.video as v\">\n    <video\n      #video\n      class=\"n7-carousel__slide-video\"\n      [poster]=\"v.poster\"\n      [height]=\"v.height\"\n      [width]=\"v.width\"\n      loop\n      muted\n      autoplay\n      playsinline\n    >\n      <source #source class=\"lazy\" [attr.data-src]=\"v.url\" type=\"video/mp4\" />\n    </video>\n    <div class=\"n7-carousel__slide-video-overlay\"></div>\n  </ng-container>\n</ng-template>\n" }]
        }], propDecorators: { data: [{
                type: Input
            }], emit: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2Fyb3VzZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9kdi1jb21wb25lbnRzLWxpYi9zcmMvbGliL2NvbXBvbmVudHMvY2Fyb3VzZWwvY2Fyb3VzZWwudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9kdi1jb21wb25lbnRzLWxpYi9zcmMvbGliL2NvbXBvbmVudHMvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2QkFBNkI7QUFDN0IsY0FBYztBQUNkLDZCQUE2QjtBQUU3QixPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBdUIsTUFBTSxlQUFlLENBQUM7Ozs7QUFxSnRFLE1BQU0sT0FBTyxpQkFBaUI7SUFKOUI7UUFTVSxXQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXZCOztXQUVHO1FBQ0gsUUFBRyxHQUFHO1lBQ0o7OztlQUdHO1lBQ0gsSUFBSSxFQUFFO2dCQUNKLHNFQUFzRTtnQkFDdEUsTUFBTSxFQUFFLEdBQUcsRUFBRTtvQkFDWCxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSTtvQkFDeEIsOEJBQThCO29CQUM5QixRQUFRO3lCQUNMLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQzt5QkFDckMsc0JBQXNCLENBQUMsTUFBTSxDQUFDLENBQ2xDLENBQUM7b0JBQ0YsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQW1CLEVBQUUsRUFBRTt3QkFDdEMsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLHFCQUFxQjt3QkFDbEUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyx5QkFBeUI7d0JBQzFELE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsZ0NBQWdDO3dCQUNqRSxN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STtzQkFBWixLQUFLO2dCQUVHLElBQUk7c0JBQVosS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDQVJPVVNFTC50c1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgQWZ0ZXJDb250ZW50Q2hlY2tlZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW5jaG9yLCBJbWFnZSB9IGZyb20gJy4uLy4uL3NoYXJlZC1pbnRlcmZhY2VzJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIFBhZ2luYXRpb25Db21wb25lbnQncyBsaW5rcyAocGFnZXMgYW5kIG5hdmlnYXRpb24gYnV0dG9ucylcbiAqXG4gKiBAcHJvcGVydHkgdGV4dCAocmVxdWlyZWQpXG4gKiBAcHJvcGVydHkgYW5jaG9yIChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSBjbGFzc2VzIChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSBfbWV0YSAob3B0aW9uYWwpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyb3VzZWxCdXR0b24ge1xuICAvKipcbiAgICogaW5uZXJIVE1MIG9yIHBsYWluIHRleHQgZm9yIHRoZSBsYWJlbFxuICAgKi9cbiAgdGV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqIGFkZGl0aW9uYWwgaHRtbCBjbGFzc2VzXG4gICAqL1xuICBjbGFzc2VzPzogc3RyaW5nO1xuICBhbmNob3I/OiBBbmNob3I7XG4gIC8qKlxuICAgKiBhZGRpdGlvbmFsIGluZm9cbiAgICovXG4gIF9tZXRhPzogYW55O1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgUGFnaW5hdGlvbkNvbXBvbmVudCdzIE1ldGFkYXRhIHR1cGxlcyAocGFnZXMgYW5kIG5hdmlnYXRpb24gYnV0dG9ucylcbiAqXG4gKiBAcHJvcGVydHkga2V5IChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSB2YWx1ZSAob3B0aW9uYWwpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyb3VzZWxNZXRhZGF0YSB7XG4gIC8qKlxuICAgKiBGaXJzdCBlbGVtZW50XG4gICAqL1xuICBrZXk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTZWNvbmQgZWxlbWVudFxuICAgKi9cbiAgdmFsdWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyb3VzZWxCYWNrZ3JvdW5kSXRlbSB7XG4gIC8qKlxuICAgKiBCYWNrZ3JvdW5kIGltYWdlIGZvciB0aGUgY2Fyb3VzZWxcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogQmFja2dyb3VuZCB2aWRlbyBmb3IgdGhlIGNhcm91c2VsXG4gICAqL1xuICB2aWRlbz86IHtcbiAgICAvKiogTWVkaWEgVVJMICovXG4gICAgdXJsOiBzdHJpbmc7XG4gICAgLyoqIFBsYWNlaG9sZGVyIGltYWdlIHdoaWxlIGxvYWRpbmcgKi9cbiAgICBwb3N0ZXI/OiBzdHJpbmc7XG4gICAgLyoqIFZpZGVvIHdpZHRoIGluIHBpeGVscyAqL1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgLyoqIFZpZGVvIGhlaWdodCBpbiBwaXhlbHMgKi9cbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgfTtcbiAgLyoqXG4gICAqIEJhY2tncm91bmQgY29sb3IgZm9yIHRoZSBjYXJvdXNlbFxuICAgKi9cbiAgY29sb3I/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBDYXJvdXNlbENvbXBvbmVudCdzIFwiSXRlbVwiXG4gKlxuICogQHByb3BlcnR5IHRpdGxlIChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSB0ZXh0IChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSBtZXRhZGF0YSAob3B0aW9uYWwpXG4gKiBAcHJvcGVydHkgYWN0aW9uIChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSBjbGFzc2VzIChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSBfbWV0YSAob3B0aW9uYWwpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyb3VzZWxGb3JlZ3JvdW5kSXRlbSB7XG4gIC8qKlxuICAgKiBIZWFkZXJcbiAgICovXG4gIHRpdGxlPzogc3RyaW5nO1xuICAvKipcbiAgICogVGV4dCBwYXJhZ3JhcGggLyBzdWJ0aXRsZSAvIHByZXRpdGxlXG4gICAqL1xuICB0ZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICogSW1hZ2UgZmlsZSBwYXRoXG4gICAqL1xuICBpbWFnZT86IEltYWdlO1xuICAvKipcbiAgICogTWV0YWRhdGFcbiAgICovXG4gIG1ldGFkYXRhPzogQ2Fyb3VzZWxNZXRhZGF0YVtdO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgQ2Fyb3VzZWxDb21wb25lbnQncyBcImRhdGFcIlxuICpcbiAqIEBwcm9wZXJ0eSBpdGVtcyAocmVxdWlyZWQpXG4gKiBAcHJvcGVydHkgaW1hZ2UgKG9wdGlvbmFsKVxuICogQHByb3BlcnR5IHZpZGVvIChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSBjbGFzc2VzIChvcHRpb25hbClcbiAqIEBwcm9wZXJ0eSBfbWV0YSAob3B0aW9uYWwpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyb3VzZWxEYXRhIHtcbiAgLyoqXG4gICAqIElEIE9mIHRoZSBjYXJvdXNlbCBjb250YWluZXJcbiAgICovXG4gIGNvbnRhaW5lcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciB0aGUgY2Fyb3VzZWwgbGlicmFyeSAoIGRvY3MgaGVyZSA6IGh0dHBzOi8vbGF0dGVjYXJvdXNlbC5kZXYvIClcbiAgICovXG4gIGxpYk9wdGlvbnM/OiBhbnk7XG4gIC8qKlxuICAgKiBBcnJheSBvZiBjYXJvdXNlbCBzbGlkZXNcbiAgICovXG4gIHNsaWRlczoge1xuICAgIGl0ZW1zOiBDYXJvdXNlbEZvcmVncm91bmRJdGVtW107XG4gICAgLyoqXG4gICAgICogQnV0dG9uXG4gICAgICovXG4gICAgYWN0aW9uPzogQ2Fyb3VzZWxCdXR0b247XG4gICAgYmFja2dyb3VuZD86IENhcm91c2VsQmFja2dyb3VuZEl0ZW07XG4gICAgY2xhc3Nlcz86IHN0cmluZztcbiAgfVtdO1xuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIGdldHRpbmcgdGhlIGNhcm91c2VsIGluc3RhbmNlXG4gICAqL1xuICBzZXRJbnN0YW5jZT86IGFueTtcbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIGFjY2VzcyB0aGUgY2Fyb3VzZWwgQVBJXG4gICAqICovXG4gIHNldENvbXBvbmVudEFQST86IGFueTtcbiAgLyoqXG4gICAqIENsYXNzZXMgZm9yIHRoZSBjYXJvdXNlbCBjb21wb25lbnRcbiAgICovXG4gIGNsYXNzZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGRhdGEgdXNlZnVsIGZvciB0aGUgY29tcG9uZW50J3MgbG9naWNcbiAgICovXG4gIF9tZXRhPzogYW55O1xufVxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduNy1jYXJvdXNlbCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9jYXJvdXNlbC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgQ2Fyb3VzZWxDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRDaGVja2VkIHtcbiAgQElucHV0KCkgZGF0YTogQ2Fyb3VzZWxEYXRhO1xuXG4gIEBJbnB1dCgpIGVtaXQ6IGFueTtcblxuICBwcml2YXRlIGxvYWRlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBBUEkgb2YgdGhlIGNhcm91c2VsIGNvbXBvbmVudFxuICAgKi9cbiAgYXBpID0ge1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gbGF6eS1sb2FkIHZpZGVvIHJlc291cmNlcy5cbiAgICAgKiBDYWxsIGFwaS5sb2FkLnZpZGVvcyBvbiBET01Db250ZW50UmVhZHkgZXZlbnRcbiAgICAgKi9cbiAgICBsb2FkOiB7XG4gICAgICAvKiogQ2hhbmdlcyBhbGwgZGF0YS1zcmMgYXR0cmlidXRlcyB0byBzcmMgYW5kIGNhbGxzIDx2aWRlbz4ubG9hZCgpICovXG4gICAgICB2aWRlb3M6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IEFycmF5LmZyb20oXG4gICAgICAgICAgLy8gZ2V0cyBhbGwgPHNvdXJjZS5sYXp5PiB0YWdzXG4gICAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCh0aGlzLmRhdGEuY29udGFpbmVySWQpXG4gICAgICAgICAgICAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGF6eScpXG4gICAgICAgICk7XG4gICAgICAgIHNvdXJjZXMuZm9yRWFjaCgoc291cmNlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVybCA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7IC8vIGdldHMgdGhlIHZpZGVvIHVybFxuICAgICAgICAgIHNvdXJjZS5jbGFzc0xpc3QucmVtb3ZlKCdsYXp5Jyk7IC8vIHJlbW92ZXMgdGhlIGxhenkgY2xhc3NcbiAgICAgICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpOyAvLyBzZXRzIHRoZSB1cmwgdG8gc3JjIGF0dHJpYnV0ZVxuICAgICAgICAgIHNvdXJjZS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7IC8vIHJlbW92ZXMgdGhlIGRhdGEtc3JjIGF0dHJpYnV0ZVxuICAgICAgICAgIChzb3VyY2UucGFyZW50RWxlbWVudCBhcyBIVE1MVmlkZW9FbGVtZW50KS5sb2FkKCk7IC8vIGxvYWRzIHRoZSB2aWRlb1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcblxuICBuZ0FmdGVyQ29udGVudENoZWNrZWQoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5sb2FkZWQpIHJldHVybjtcbiAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lcklkLCBsaWJPcHRpb25zIH0gPSB0aGlzLmRhdGE7XG4gICAgICBpbXBvcnQoJ2xhdHRlLWNhcm91c2VsJykudGhlbigobW9kdWxlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgQ2Fyb3VzZWwgfSA9IG1vZHVsZTtcbiAgICAgICAgY29uc3QgY2hhcnQgPSBuZXcgQ2Fyb3VzZWwoYCMke2NvbnRhaW5lcklkfWAsIGxpYk9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5kYXRhLnNldEluc3RhbmNlKVxuICAgICAgICAgIHRoaXMuZGF0YS5zZXRJbnN0YW5jZSgoZCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICAgIGQgPSBjaGFydDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5zZXRDb21wb25lbnRBUEkpXG4gICAgICAgICAgdGhpcy5kYXRhLnNldENvbXBvbmVudEFQSSgoZCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICAgIGQgPSB0aGlzLmFwaTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRCdXR0b25FdmVudHModGhpcy5kYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgb25DbGljayhwYXlsb2FkKSB7XG4gICAgaWYgKCF0aGlzLmVtaXQpIHJldHVybjtcbiAgICB0aGlzLmVtaXQoJ2NsaWNrJywgcGF5bG9hZCk7XG4gIH1cblxuICAvKipcbiAgICogRnVuY3Rpb24gdGhhdCBhZGRzIHRoZSBldmVudCBsaXN0ZW5lcnMgdG8gZWFjaCBidXR0b24uXG4gICAqIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2Ugd2hlbiBcIm5ldyBDYXJvdXNlbCgpXCIgaXMgY2FsbGVkIHRoZSBldmVudCBsaXN0ZW5lcnMgYXJlIGxvc3QuXG4gICAqL1xuICBhZGRCdXR0b25FdmVudHMoeyBzbGlkZXMsIGNvbnRhaW5lcklkIH0pIHtcbiAgICAvLyBCdWlsZCBhcnJheSBvZiBidXR0b24taWQncyAmIHBheWxvYWRzLlxuICAgIGNvbnN0IGJ1dHRvbnM6IHsgaWQ6IHN0cmluZzsgcGF5bG9hZDogYW55IH1bXSA9IHNsaWRlc1xuICAgICAgLm1hcCgoc2xpZGUsIHNsaWRlSUQpID0+ICh7XG4gICAgICAgIC8vIGlkID0gY29udGFpbmVyIGlkIC0gaW5kZXggb2YgdGhlIHNsaWRlXG4gICAgICAgIGlkOiBgJHtjb250YWluZXJJZH0tJHtzbGlkZUlEfWAsXG4gICAgICAgIHBheWxvYWQ6ICgoc2xpZGUuYWN0aW9uIHx8IHt9KS5hbmNob3IgfHwge30pLnBheWxvYWQgfHwgdW5kZWZpbmVkLFxuICAgICAgfSkpXG4gICAgICAuZmlsdGVyKChidG4pID0+IGJ0bi5wYXlsb2FkKTtcbiAgICAvLyBmaW5kIGVhY2ggYnV0dG9uJ3MgYW5jaG9yLXdyYXBwZXIgYW5kIGF0dGFjaCB0aGUgZXZlbnQgdG8gaXQuXG4gICAgYnV0dG9ucy5mb3JFYWNoKChidG4pID0+IHtcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKGAjJHtidG4uaWR9YClcbiAgICAgICAgLnBhcmVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxuICAgICAgICAgIHRoaXMub25DbGljayhidG4ucGF5bG9hZClcbiAgICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiPGJ1dHRvblxuICAqbmdJZj1cImRhdGEgJiYgZGF0YS5jbGFzc2VzID09PSAnZGVtbydcIlxuICBjbGFzcz1cIm43LWJ0blwiXG4gIChjbGljayk9XCJhcGkubG9hZC52aWRlb3MoKVwiXG4+XG4gIGFwaS5sb2FkLnZpZGVvcygpXG48L2J1dHRvbj5cblxuPGRpdiAqbmdJZj1cImRhdGFcIiBjbGFzcz1cIm43LWNhcm91c2VsIHt7IGRhdGEuY2xhc3NlcyB8fCAnJyB9fVwiPlxuICA8IS0tIFdhcm5pbmc6IERvIG5vdCBzdHlsZSBkaXYubGF0dGUtY2Fyb3VzZWwgLS0+XG4gIDxkaXYgaWQ9XCJ7e2RhdGEuY29udGFpbmVySWR9fVwiIGNsYXNzPVwibGF0dGUtY2Fyb3VzZWxcIj5cbiAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBzbGlkZSBvZiBkYXRhLnNsaWRlczsgbGV0IGluZGV4ID0gaW5kZXg7XCI+XG4gICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICpuZ1RlbXBsYXRlT3V0bGV0PVwiY2Fyb3VzZWxTbGlkZTsgY29udGV4dDp7c2xpZGU6IHNsaWRlLCBpbmRleDogaW5kZXh9XCJcbiAgICAgID48L25nLWNvbnRhaW5lcj5cbiAgICA8L25nLWNvbnRhaW5lcj5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPCEtLSA9PT09PSBTTElERSBXUkFQUEVSID09PT09IC0tPlxuPG5nLXRlbXBsYXRlICNjYXJvdXNlbFNsaWRlIGxldC1zbGlkZT1cInNsaWRlXCIgbGV0LXNsaWRlSUQ9XCJpbmRleFwiPlxuICA8IS0tIFdhcm5pbmc6IERvIG5vdCBzdHlsZSBkaXYubGF0dGUtaXRlbSAtLT5cbiAgPGRpdiBjbGFzcz1cImxhdHRlLWl0ZW1cIj5cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cIm43LWNhcm91c2VsX19zbGlkZSB7eyBzbGlkZS5jbGFzc2VzIHx8ICcnfX1cIlxuICAgICAgW25nQ2xhc3NdPVwieyAnaGFzLWltYWdlJyA6IHNsaWRlLmJhY2tncm91bmQuaW1hZ2UsICdoYXMtdmlkZW8nOiBzbGlkZS5iYWNrZ3JvdW5kLnZpZGVvIH1cIlxuICAgICAgW3N0eWxlLmJhY2tncm91bmQtY29sb3JdPVwic2xpZGUuYmFja2dyb3VuZC5jb2xvciA/IHNsaWRlLmJhY2tncm91bmQuY29sb3IgOiAnJ1wiXG4gICAgICBbc3R5bGUuYmFja2dyb3VuZC1pbWFnZV09XCJzbGlkZS5iYWNrZ3JvdW5kLmltYWdlID8gJ3VybCgnK3NsaWRlLmJhY2tncm91bmQuaW1hZ2UrJyknIDogJydcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2xpZGUtY29udGVudC13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2xpZGUtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2xpZGUtY29udGVudC1sZWZ0XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICpuZ1RlbXBsYXRlT3V0bGV0PVwic2xpZGVGb3JlZ3JvdW5kOyBjb250ZXh0OntpdGVtczogc2xpZGUuaXRlbXMsIHNsaWRlSUQ6IHNsaWRlSUR9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2xpZGUtY29udGVudC1yaWdodFwiICpuZ0lmPVwic2xpZGUuYWN0aW9uXCI+XG4gICAgICAgICAgICA8bjctYW5jaG9yLXdyYXBwZXJcbiAgICAgICAgICAgICAgW2RhdGFdPVwic2xpZGUuYWN0aW9uLmFuY2hvclwiXG4gICAgICAgICAgICAgIChjbGlja2VkKT1cIm9uQ2xpY2soJGV2ZW50KVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDwhLS0gQnV0dG9uIElEJ3MgYXJlIHVzZWQgdG8gZHluYW1pY2FsbHkgcmVhdHRhY2ggZXZlbnRzIGFmdGVyIGxvYWRpbmcgdGhlIGNhcm91c2VsIC0tPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgaWQ9XCJ7e2RhdGEuY29udGFpbmVySWR9fS17e3NsaWRlSUR9fVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJuNy1oZXJvX19idG4gbjctYnRuIG43LWJ0bi1jdGEgbjctYnRuLWxcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3tzbGlkZS5hY3Rpb24udGV4dH19XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9uNy1hbmNob3Itd3JhcHBlcj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgKm5nVGVtcGxhdGVPdXRsZXQ9XCJzaWRlSW1hZ2U7IGNvbnRleHQ6e2l0ZW1zOiBzbGlkZS5pdGVtcywgc2xpZGVJRDogc2xpZGVJRH1cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2xpZGUuYmFja2dyb3VuZFwiPlxuICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgKm5nVGVtcGxhdGVPdXRsZXQ9XCJzbGlkZUJhY2tncm91bmQ7IGNvbnRleHQ6eyRpbXBsaWNpdDogc2xpZGUuYmFja2dyb3VuZH1cIlxuICAgICAgICA+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9uZy10ZW1wbGF0ZT5cblxuPCEtLSA9PT09PSBTTElERSBGT1JFR1JPVU5EID09PT09IC0tPlxuPG5nLXRlbXBsYXRlICNzbGlkZUZvcmVncm91bmQgbGV0LWl0ZW1zPVwiaXRlbXNcIiBsZXQtc2xpZGVJRD1cInNsaWRlSURcIj5cbiAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgZWwgb2YgaXRlbXM7IGxldCBpdGVtSUQgPSBpbmRleFwiPlxuICAgIDwhLS0gdGl0bGUgLS0+XG4gICAgPGgxIGNsYXNzPVwibjctY2Fyb3VzZWxfX3NsaWRlLXRpdGxlXCIgKm5nSWY9XCJlbC50aXRsZVwiPnt7ZWwudGl0bGV9fTwvaDE+XG4gICAgPCEtLSB0ZXh0IC0tPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwibjctY2Fyb3VzZWxfX3NsaWRlLXRleHRcIlxuICAgICAgKm5nSWY9XCJlbC50ZXh0XCJcbiAgICAgIFtpbm5lckhUTUxdPVwiZWwudGV4dFwiXG4gICAgPjwvZGl2PlxuICAgIDwhLS0gaW1hZ2UgLS0+XG4gICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImVsLmltYWdlIGFzIGltZ1wiPlxuICAgICAgPGltZ1xuICAgICAgICBjbGFzcz1cIm43LWNhcm91c2VsX19zbGlkZS1pbWdcIlxuICAgICAgICBbc3JjXT1cImltZy5zcmNcIlxuICAgICAgICBbYWx0XT1cImltZy5hbHQgPz8gJydcIlxuICAgICAgICBbbmdDbGFzc109XCJpbWcuY2xhc3Nlc1wiXG4gICAgICAvPlxuICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwhLS0gbWV0YWRhdGEgLS0+XG4gICAgPGRpdiBjbGFzcz1cIm43LWNhcm91c2VsX19zbGlkZS1tZXRhZGF0YS13cmFwcGVyXCIgKm5nSWY9XCJlbC5tZXRhZGF0YVwiPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgbSBvZiBlbC5tZXRhZGF0YVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibjctY2Fyb3VzZWxfX3NsaWRlLW1ldGFkYXRhXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2xpZGUtbWV0YWRhdGEtbGFiZWxcIiAqbmdJZj1cIm0ua2V5XCJcbiAgICAgICAgICAgID57e20ua2V5fX08L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2xpZGUtbWV0YWRhdGEtdmFsdWVcIiAqbmdJZj1cIm0udmFsdWVcIlxuICAgICAgICAgICAgPnt7bS52YWx1ZX19PC9zcGFuXG4gICAgICAgICAgPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvZGl2PlxuICA8L25nLWNvbnRhaW5lcj5cbjwvbmctdGVtcGxhdGU+XG5cbjwhLS0gPT09PT0gU0lERSBJTUFHRSA9PT09PSAtLT5cbjxuZy10ZW1wbGF0ZSAjc2lkZUltYWdlIGxldC1pdGVtcz1cIml0ZW1zXCIgbGV0LXNsaWRlSUQ9XCJzbGlkZUlEXCI+XG4gIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGVsIG9mIGl0ZW1zOyBsZXQgaXRlbUlEID0gaW5kZXhcIj5cbiAgICA8IS0tIGltYWdlIC0tPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJlbC5pbWFnZSBhcyBpbWdcIj5cbiAgICAgIDxpbWdcbiAgICAgICAgY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2lkZS1pbWdcIlxuICAgICAgICBbc3JjXT1cImltZy5zcmNcIlxuICAgICAgICBbYWx0XT1cImltZy5hbHQgPz8gJydcIlxuICAgICAgICBbbmdDbGFzc109XCJpbWcuY2xhc3Nlc1wiXG4gICAgICAvPlxuICAgIDwvbmctY29udGFpbmVyPlxuICA8L25nLWNvbnRhaW5lcj5cbjwvbmctdGVtcGxhdGU+XG5cbjwhLS0gPT09PT0gVklERU8gQkFDS0dST1VORCA9PT09PSAtLT5cbjxuZy10ZW1wbGF0ZSAjc2xpZGVCYWNrZ3JvdW5kIGxldC1iZz5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImJnLnZpZGVvIGFzIHZcIj5cbiAgICA8dmlkZW9cbiAgICAgICN2aWRlb1xuICAgICAgY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2xpZGUtdmlkZW9cIlxuICAgICAgW3Bvc3Rlcl09XCJ2LnBvc3RlclwiXG4gICAgICBbaGVpZ2h0XT1cInYuaGVpZ2h0XCJcbiAgICAgIFt3aWR0aF09XCJ2LndpZHRoXCJcbiAgICAgIGxvb3BcbiAgICAgIG11dGVkXG4gICAgICBhdXRvcGxheVxuICAgICAgcGxheXNpbmxpbmVcbiAgICA+XG4gICAgICA8c291cmNlICNzb3VyY2UgY2xhc3M9XCJsYXp5XCIgW2F0dHIuZGF0YS1zcmNdPVwidi51cmxcIiB0eXBlPVwidmlkZW8vbXA0XCIgLz5cbiAgICA8L3ZpZGVvPlxuICAgIDxkaXYgY2xhc3M9XCJuNy1jYXJvdXNlbF9fc2xpZGUtdmlkZW8tb3ZlcmxheVwiPjwvZGl2PlxuICA8L25nLWNvbnRhaW5lcj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=